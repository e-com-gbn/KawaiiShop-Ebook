<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DÃ©tails | KAWAII SHOP</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">KAWAII <span>SHOP</span></a>
        <div class="menu-toggle" id="mobile-menu">
            <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </div>
        <nav class="nav-menu">
            <a href="category.html?genre=action">Action</a>
            <a href="category.html?genre=fantasy">Fantaisie</a>
            <a href="category.html?genre=scifi">Sci-Fi</a>
            <a href="category.html?genre=mystere">MystÃ¨re</a>
            <a href="category.html?genre=aventure">Aventure</a>
            <a href="cart.html">ðŸ›’ (<span class="cart-count">0</span>)</a>
        </nav>
    </header>

    <main style="padding: 20px;">
        <div class="product-container" style="max-width:1000px; margin:auto; display:flex; flex-wrap:wrap; gap:30px;">
            <img id="main-product-img" src="" style="width:100%; max-width:400px; border-radius:15px;">
            <div class="info-section" style="flex:1; min-width:300px;">
                <h1 id="product-title" style="font-family:'Bangers'; font-size:3rem;"></h1>
                <p id="product-meta" style="font-weight:bold; color:var(--primary-red);"></p>
                <div id="volume-range-display" style="margin:10px 0; padding:10px; background:#eee; border-radius:5px;"></div>
                <h2 style="font-size:2.5rem;"><span id="product-price"></span> FCFA</h2>
                <p id="product-description"></p>
                
                <div class="order-box" style="background:#fff; padding:20px; border:1px solid #ddd; border-radius:10px;">
                    <label>Volume souhaitÃ© :</label>
                    <input type="number" id="volume-number" value="1" style="width:100%; padding:10px; margin-bottom:10px;">
                    <label>Paiement :</label>
                    <select id="payment-method-direct" style="width:100%; padding:10px; margin-bottom:20px;">
                        <option value="Airtel Money">Airtel Money</option>
                        <option value="Mobicash">Mobicash</option>
                    </select>
                    <button id="add-to-cart-btn" class="btn-glow blue">PANIER</button>
                    <button id="buy-whatsapp-btn" class="btn-glow gold">WHATSAPP</button>
                </div>
            </div>
        </div>
    </main>

    <script src="data.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const id = new URLSearchParams(window.location.search).get('id');
            const p = ALL_PRODUCTS.find(x => x.id == id);
            if(p) {
                document.getElementById('product-title').innerText = p.title;
                document.getElementById('product-price').innerText = p.price.toLocaleString();
                document.getElementById('main-product-img').src = p.imageUrl;
                document.getElementById('product-description').innerText = p.summary;
                document.getElementById('volume-range-display').innerText = `ðŸ“¦ Disponibles : Tomes ${p.minVolume} Ã  ${p.maxVolume}`;
                
                document.getElementById('buy-whatsapp-btn').onclick = () => {
                    const vol = document.getElementById('volume-number').value;
                    const pay = document.getElementById('payment-method-direct').value;
                    buyNowDirect(p.title, p.price, vol, pay);
                };
            }
        });
    </script>
</body>
</html>
